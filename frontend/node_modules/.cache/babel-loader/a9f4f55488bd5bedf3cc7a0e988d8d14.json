{"ast":null,"code":"var _jsxFileName = \"/Users/benjamin/School/NewsApp/frontend/src/pages/weather.js\";\nimport React, { useState } from 'react';\nconst api = {\n  key: 'b8b339cb458fb8bc4985ef3cc4e552a3',\n  base: 'https://api.openweathermap.org/data/2.5/'\n};\nexport const Weather = () => {\n  const [query, setQuery] = useState('');\n  const [weather, setWeather] = useState({});\n  const [weatherDef, setWeatherDef] = useState({});\n  const [apiError, setapiError] = useState('');\n\n  const search = evt => {\n    if (evt.key === 'Enter') {\n      fetch(`${api.base}weather?q=${query}&units=metric&APPID=${api.key}`).then(res => res.json()).then(result => {\n        setWeather(result);\n        setQuery('');\n        console.log(result);\n      }).catch(err => setapiError(err.message));\n    }\n  };\n\n  const defaultValue = evt => {\n    if (evt.key === 'Enter') {\n      fetch(`${api.base}weather?q=Helsinki&units=metric&APPID=${api.key}`).then(res => res.json()).then(result => {\n        setWeatherDef(result);\n        setQuery('');\n        console.log(result);\n      }).catch(err => setapiError(err.message));\n    }\n  }; // Formating date\n\n\n  const dateFormat = () => {\n    let date = new Intl.DateTimeFormat('en-GB', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: '2-digit',\n      hour: 'numeric',\n      minute: 'numeric'\n    }).format();\n    return date;\n  }; // Handle user input in search field\n\n\n  const handleFilterChange = event => {\n    setQuery(event.target.value);\n    console.log(event.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: typeof weather.main != 'undefined' ? weather.main.temp > 16 ? 'weather warm' : 'weather cold' : 'weather',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"search-bar\",\n    placeholder: \"Search...\",\n    onChange: handleFilterChange,\n    value: query,\n    onKeyPress: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  })), typeof weather.main != 'undefined' ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"location-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, weather.name, \", \", weather.sys.country), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, dateFormat())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"weather-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"temp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \" \", Math.round(weather.main.temp), \"\\xB0c\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"weather-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, weather.weather[0].main))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"weather-empty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"location-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, weather.name, \", \", weatherDef.sys.country), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }, dateFormat())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"weather-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"temp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  }, \" \", Math.round(weatherDef.main.temp), \"\\xB0c\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"weather-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }, weatherDef.weather[0].main)))))));\n};\nexport default Weather;","map":{"version":3,"sources":["/Users/benjamin/School/NewsApp/frontend/src/pages/weather.js"],"names":["React","useState","api","key","base","Weather","query","setQuery","weather","setWeather","weatherDef","setWeatherDef","apiError","setapiError","search","evt","fetch","then","res","json","result","console","log","catch","err","message","defaultValue","dateFormat","date","Intl","DateTimeFormat","weekday","year","month","day","hour","minute","format","handleFilterChange","event","target","value","main","temp","name","sys","country","Math","round"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n\nconst api = {\n  key: 'b8b339cb458fb8bc4985ef3cc4e552a3',\n  base: 'https://api.openweathermap.org/data/2.5/',\n}\n\nexport const Weather = () => {\n  const [query, setQuery] = useState('')\n  const [weather, setWeather] = useState({})\n  const [weatherDef, setWeatherDef] = useState({})\n  const [apiError, setapiError] = useState('')\n\n  const search = (evt) => {\n    if (evt.key === 'Enter') {\n      fetch(`${api.base}weather?q=${query}&units=metric&APPID=${api.key}`)\n        .then((res) => res.json())\n        .then((result) => {\n          setWeather(result)\n          setQuery('')\n          console.log(result);\n        }).catch((err) => setapiError(err.message))\n    }\n  }\n\n  const defaultValue = (evt) => {\n    if (evt.key === 'Enter') {\n      fetch(`${api.base}weather?q=Helsinki&units=metric&APPID=${api.key}`)\n        .then((res) => res.json())\n        .then((result) => {\n          setWeatherDef(result)\n          setQuery('')\n          console.log(result)\n        })\n        .catch((err) => setapiError(err.message))\n    }\n  }\n\n  // Formating date\n  const dateFormat = () => {\n    let date = new Intl.DateTimeFormat('en-GB', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: '2-digit',\n      hour: 'numeric',\n      minute: 'numeric',\n    }).format()\n    return date\n  }\n\n  // Handle user input in search field\n  const handleFilterChange = (event) => {\n    setQuery(event.target.value)\n    console.log(event.target.value)\n  }\n\n  return (\n    <div className=\"pages\">\n      <div\n        className={\n          typeof weather.main != 'undefined'\n            ? weather.main.temp > 16\n              ? 'weather warm'\n              : 'weather cold'\n            : 'weather'\n        }\n      >\n        <main>\n          <div className=\"search-box\">\n            <input\n              type=\"text\"\n              className=\"search-bar\"\n              placeholder=\"Search...\"\n              onChange={handleFilterChange}\n              value={query}\n              onKeyPress={search}\n            />\n          </div>\n          {typeof weather.main != 'undefined' ? (\n            <div>\n              <div className=\"location-box\">\n                <div className=\"location\">\n                  {weather.name}, {weather.sys.country}\n                </div>\n                <div className=\"date\">{dateFormat()}</div>\n              </div>\n              <div className=\"weather-box\">\n                <div className=\"temp\"> {Math.round(weather.main.temp)}°c</div>\n                <div className=\"weather-description\">\n                  {weather.weather[0].main}\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"weather-empty\">\n              <div>\n                <div className=\"location-box\">\n                  <div className=\"location\">\n                    {weather.name}, {weatherDef.sys.country}\n                  </div>\n                  <div className=\"date\">{dateFormat()}</div>\n                </div>\n                <div className=\"weather-box\">\n                  <div className=\"temp\"> {Math.round(weatherDef.main.temp)}°c</div>\n                  <div className=\"weather-description\">\n                    {weatherDef.weather[0].main}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  )\n}\n\nexport default Weather\n"]},"metadata":{},"sourceType":"module"}