{"ast":null,"code":"var _jsxFileName = \"/Users/benjamin/School/NewsApp/frontend/src/pages/news.js\";\nimport React, { useState, useEffect } from 'react';\nimport ArticleList from '../components/ArticleList'; //import SearchBar from '../components/SearchBar'\n\nimport { Container, Header, Button, Form } from 'semantic-ui-react';\nimport { NEWS_API_KEY } from '../config';\nexport const News = () => {\n  const [articles, setArticles] = useState([]);\n  const [apiError, setapiError] = useState('');\n  const [search, setsearch] = useState('');\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    fetch(`https://newsapi.org/v2/top-headlines?country=gb&apiKey=${NEWS_API_KEY}`).then(res => res.json()).then(res => setArticles(res.articles)).then(() => setLoading(true)).then(res => setTotalResults(res.totalResults)).catch(err => {\n      setapiError(err);\n      console.log(err);\n    });\n  }, []);\n\n  const searchHandler = value => {\n    setSearchTopic(value);\n  };\n\n  let updateNews = articles.filter(article => {\n    return article.title.toLowerCase().includes(searchTopic);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: this.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Input, {\n    placeholder: \"Search topic\",\n    name: \"topic\",\n    value: this.state.searchTopic,\n    onChange: this.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"green\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, \"Search\")))), /*#__PURE__*/React.createElement(Header, {\n    as: \"h2\",\n    style: {\n      textAlign: 'center',\n      margin: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"News articles\"), articles.length > 0 && /*#__PURE__*/React.createElement(ArticleList, {\n    articles: articles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 33\n    }\n  }), apiError && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 22\n    }\n  }, \"Could not fetch any articles. Please try again.\")));\n};\nexport default News;\n/*import React from 'react'\nimport { getArticles } from '../api/api'\nimport ArticleList from '../components/ArticleList'\nimport { Container, Header } from 'semantic-ui-react'\n\nclass News extends React.Component {\n  state = {\n    articles: [],\n    apiError: '',\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await getArticles()\n      this.setState({ articles: response.articles })\n    } catch (error) {\n      this.setState({ apiError: 'Could not find any articles' })\n    }\n  }\n\n  render() {\n    const { articles, apiError } = this.state\n    return (\n      <div className=\"pages\">\n        <Container>\n          <Header as=\"h2\" style={{ textAlign: 'center', margin: 20 }}>\n            News articles\n          </Header>\n          {articles.length > 0 && <ArticleList articles={articles} />}\n          {apiError && <p>Could not fetch any articles. Please try again.</p>}\n        </Container>\n      </div>\n    )\n  }\n}\n\nexport default News*/","map":{"version":3,"sources":["/Users/benjamin/School/NewsApp/frontend/src/pages/news.js"],"names":["React","useState","useEffect","ArticleList","Container","Header","Button","Form","NEWS_API_KEY","News","articles","setArticles","apiError","setapiError","search","setsearch","loading","setLoading","fetch","then","res","json","setTotalResults","totalResults","catch","err","console","log","searchHandler","value","setSearchTopic","updateNews","filter","article","title","toLowerCase","includes","searchTopic","display","justifyContent","handleSubmit","state","handleChange","textAlign","margin","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport ArticleList from '../components/ArticleList'\n//import SearchBar from '../components/SearchBar'\nimport { Container, Header, Button, Form } from 'semantic-ui-react'\nimport { NEWS_API_KEY } from '../config'\n\nexport const News = () => {\n  const [articles, setArticles] = useState([])\n  const [apiError, setapiError] = useState('')\n  const [search, setsearch] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    fetch(\n      `https://newsapi.org/v2/top-headlines?country=gb&apiKey=${NEWS_API_KEY}`\n    )\n      .then((res) => res.json())\n      .then((res) => setArticles(res.articles))\n      .then(() => setLoading(true))\n      .then((res) => setTotalResults(res.totalResults))\n      .catch((err) => {\n        setapiError(err)\n        console.log(err)\n      })\n  }, [])\n\n  const searchHandler = (value) => {\n    setSearchTopic(value)\n  }\n\n  let updateNews = articles.filter((article) => {\n    return article.title.toLowerCase().includes(searchTopic)\n  })\n\n  return (\n    <div className=\"pages\">\n      <Container>\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\n          <Form onSubmit={this.handleSubmit}>\n            <Form.Group>\n              <Form.Input\n                placeholder=\"Search topic\"\n                name=\"topic\"\n                value={this.state.searchTopic}\n                onChange={this.handleChange}\n              />\n              <Button type=\"submit\" color=\"green\">\n                Search\n              </Button>\n            </Form.Group>\n          </Form>\n        </div>\n        <Header as=\"h2\" style={{ textAlign: 'center', margin: 20 }}>\n          News articles\n        </Header>\n        {articles.length > 0 && <ArticleList articles={articles} />}\n        {apiError && <p>Could not fetch any articles. Please try again.</p>}\n      </Container>\n    </div>\n  )\n}\n\nexport default News\n\n/*import React from 'react'\nimport { getArticles } from '../api/api'\nimport ArticleList from '../components/ArticleList'\nimport { Container, Header } from 'semantic-ui-react'\n\nclass News extends React.Component {\n  state = {\n    articles: [],\n    apiError: '',\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await getArticles()\n      this.setState({ articles: response.articles })\n    } catch (error) {\n      this.setState({ apiError: 'Could not find any articles' })\n    }\n  }\n\n  render() {\n    const { articles, apiError } = this.state\n    return (\n      <div className=\"pages\">\n        <Container>\n          <Header as=\"h2\" style={{ textAlign: 'center', margin: 20 }}>\n            News articles\n          </Header>\n          {articles.length > 0 && <ArticleList articles={articles} />}\n          {apiError && <p>Could not fetch any articles. Please try again.</p>}\n        </Container>\n      </div>\n    )\n  }\n}\n\nexport default News*/\n"]},"metadata":{},"sourceType":"module"}