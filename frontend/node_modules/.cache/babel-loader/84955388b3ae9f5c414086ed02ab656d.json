{"ast":null,"code":"import jwt from'jsonwebtoken';// functions for authentication\nexport function isLoggedIn(){var token=localStorage.getItem('token');return token!=null;}export function logout(){if(isLoggedIn()){//localStorage.clear();\nlocalStorage.removeItem('token');}}// to save the token to the browsers localstorage which\n// will keep the session active\nexport function setToken(token){if(getToken()===token){localStorage.clear();localStorage.setItem('token',token);}localStorage.setItem('token',token);}export function getToken(){return localStorage.getItem('token');}export function decodeToken(){var token=getToken();if(!token){return null;}var decodedToken=jwt.decode(token);console.log('decoded token:');console.log(decodedToken);return decodedToken;}// User info decoded from Token\nexport function getUserId(){// decrypt token to its original data\nvar token=decodeToken();if(!token){return null;}return token.id;}export function getUserEmail(){// decrypt token to its original data\nvar token=decodeToken();if(!token){return null;}return token.email;}export function getUserFirstName(){// decrypt token to its original data\nvar token=decodeToken();if(!token){return'User';}return token.firstName;}export function getUserLastName(){// decrypt token to its original data\nvar token=decodeToken();if(!token){return null;}return token.lastName;}","map":{"version":3,"sources":["/Users/benjamin/School/NewsApp/frontend/src/components/auth.js"],"names":["jwt","isLoggedIn","token","localStorage","getItem","logout","removeItem","setToken","getToken","clear","setItem","decodeToken","decodedToken","decode","console","log","getUserId","id","getUserEmail","email","getUserFirstName","firstName","getUserLastName","lastName"],"mappings":"AAAA,MAAOA,CAAAA,GAAP,KAAgB,cAAhB,CAEA;AACA,MAAO,SAASC,CAAAA,UAAT,EAAsB,CAC3B,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,MAAOF,CAAAA,KAAK,EAAI,IAAhB,CACD,CAED,MAAO,SAASG,CAAAA,MAAT,EAAkB,CACvB,GAAIJ,UAAU,EAAd,CAAkB,CAChB;AACAE,YAAY,CAACG,UAAb,CAAwB,OAAxB,EACD,CACF,CAED;AACA;AACA,MAAO,SAASC,CAAAA,QAAT,CAAkBL,KAAlB,CAAyB,CAC9B,GAAIM,QAAQ,KAAON,KAAnB,CAA0B,CACxBC,YAAY,CAACM,KAAb,GACAN,YAAY,CAACO,OAAb,CAAqB,OAArB,CAA8BR,KAA9B,EACD,CACDC,YAAY,CAACO,OAAb,CAAqB,OAArB,CAA8BR,KAA9B,EACD,CAED,MAAO,SAASM,CAAAA,QAAT,EAAoB,CACzB,MAAOL,CAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAP,CACD,CAED,MAAO,SAASO,CAAAA,WAAT,EAAuB,CAC5B,GAAMT,CAAAA,KAAK,CAAGM,QAAQ,EAAtB,CACA,GAAI,CAACN,KAAL,CAAY,CACV,MAAO,KAAP,CACD,CACD,GAAMU,CAAAA,YAAY,CAAGZ,GAAG,CAACa,MAAJ,CAAWX,KAAX,CAArB,CACAY,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYH,YAAZ,EACA,MAAOA,CAAAA,YAAP,CACD,CAED;AACA,MAAO,SAASI,CAAAA,SAAT,EAAqB,CAC1B;AACA,GAAMd,CAAAA,KAAK,CAAGS,WAAW,EAAzB,CACA,GAAI,CAACT,KAAL,CAAY,CACV,MAAO,KAAP,CACD,CACD,MAAOA,CAAAA,KAAK,CAACe,EAAb,CACD,CAED,MAAO,SAASC,CAAAA,YAAT,EAAwB,CAC7B;AACA,GAAMhB,CAAAA,KAAK,CAAGS,WAAW,EAAzB,CACA,GAAI,CAACT,KAAL,CAAY,CACV,MAAO,KAAP,CACD,CACD,MAAOA,CAAAA,KAAK,CAACiB,KAAb,CACD,CACD,MAAO,SAASC,CAAAA,gBAAT,EAA4B,CACjC;AAEA,GAAMlB,CAAAA,KAAK,CAAGS,WAAW,EAAzB,CACA,GAAI,CAACT,KAAL,CAAY,CACV,MAAO,MAAP,CACD,CACD,MAAOA,CAAAA,KAAK,CAACmB,SAAb,CACD,CACD,MAAO,SAASC,CAAAA,eAAT,EAA2B,CAChC;AACA,GAAMpB,CAAAA,KAAK,CAAGS,WAAW,EAAzB,CACA,GAAI,CAACT,KAAL,CAAY,CACV,MAAO,KAAP,CACD,CACD,MAAOA,CAAAA,KAAK,CAACqB,QAAb,CACD","sourcesContent":["import jwt from 'jsonwebtoken'\n\n// functions for authentication\nexport function isLoggedIn() {\n  const token = localStorage.getItem('token')\n  return token != null\n}\n\nexport function logout() {\n  if (isLoggedIn()) {\n    //localStorage.clear();\n    localStorage.removeItem('token')\n  }\n}\n\n// to save the token to the browsers localstorage which\n// will keep the session active\nexport function setToken(token) {\n  if (getToken() === token) {\n    localStorage.clear()\n    localStorage.setItem('token', token)\n  }\n  localStorage.setItem('token', token)\n}\n\nexport function getToken() {\n  return localStorage.getItem('token')\n}\n\nexport function decodeToken() {\n  const token = getToken()\n  if (!token) {\n    return null\n  }\n  const decodedToken = jwt.decode(token)\n  console.log('decoded token:')\n  console.log(decodedToken)\n  return decodedToken\n}\n\n// User info decoded from Token\nexport function getUserId() {\n  // decrypt token to its original data\n  const token = decodeToken()\n  if (!token) {\n    return null\n  }\n  return token.id\n}\n\nexport function getUserEmail() {\n  // decrypt token to its original data\n  const token = decodeToken()\n  if (!token) {\n    return null\n  }\n  return token.email\n}\nexport function getUserFirstName() {\n  // decrypt token to its original data\n\n  const token = decodeToken()\n  if (!token) {\n    return 'User'\n  }\n  return token.firstName\n}\nexport function getUserLastName() {\n  // decrypt token to its original data\n  const token = decodeToken()\n  if (!token) {\n    return null\n  }\n  return token.lastName\n}\n"]},"metadata":{},"sourceType":"module"}