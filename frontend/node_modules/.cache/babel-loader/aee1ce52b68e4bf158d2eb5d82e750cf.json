{"ast":null,"code":"var _jsxFileName = \"/Users/benjamin/School/NewsApp/frontend/src/components/News.js\";\nimport React from 'react';\nimport { getArticles, getPreArticles } from '../api/api';\nimport ArticleList from './ArticleList';\nimport SearchBar from './SearchBar';\nimport { Container, Header } from 'semantic-ui-react';\nimport * as auth from './auth';\nimport axios from 'axios';\n\nclass News extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      articles: [],\n      preArticles: [],\n      searchTopic: '',\n      totalResults: '',\n      loading: false,\n      apiError: ''\n    };\n\n    this.searchForTopic = async topic => {\n      axios.post('http://localhost:3001/api/newsSearch', {\n        topic\n      }).then(res => console.log(res));\n\n      try {\n        this.setState({\n          loading: true\n        });\n        const response = await getArticles(topic);\n        this.setState({\n          articles: response.articles,\n          searchTopic: topic,\n          totalResults: response.totalResults\n        });\n      } catch (error) {\n        this.setState({\n          apiError: 'Could not find any articles'\n        });\n      }\n\n      this.setState({\n        loading: false\n      });\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await getPreArticles();\n      this.setState({\n        articles: response.articles\n      });\n    } catch (error) {\n      this.setState({\n        apiError: 'Could not find any articles'\n      });\n    }\n  }\n\n  render() {\n    const {\n      preArticles,\n      articles,\n      apiError,\n      loading,\n      searchTopic,\n      totalResults\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      as: \"h2\",\n      style: {\n        textAlign: 'center',\n        margin: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, \"Search for a news topic\"), auth.isLoggedIn() ? /*#__PURE__*/React.createElement(SearchBar, {\n      searchForTopic: this.searchForTopic,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }) : null, loading && /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, \"Searching for articles...\"), articles.length > 0 && searchTopic.length !== 0 ? /*#__PURE__*/React.createElement(Header, {\n      as: \"h4\",\n      style: {\n        textAlign: 'center',\n        margin: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, \"Found \", totalResults, \" articles on \\\"\", searchTopic, \"\\\"\") : /*#__PURE__*/React.createElement(Header, {\n      as: \"h4\",\n      style: {\n        textAlign: 'center',\n        margin: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, \"Trending articles right now\"), articles.length > 0 && /*#__PURE__*/React.createElement(ArticleList, {\n      articles: articles,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }\n    }), apiError && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 22\n      }\n    }, \"Could not fetch any articles. Please try again.\"), preArticles.length > 0 && /*#__PURE__*/React.createElement(ArticleList, {\n      articles: preArticles,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 36\n      }\n    }));\n  }\n\n}\n\nexport default News;","map":{"version":3,"sources":["/Users/benjamin/School/NewsApp/frontend/src/components/News.js"],"names":["React","getArticles","getPreArticles","ArticleList","SearchBar","Container","Header","auth","axios","News","Component","state","articles","preArticles","searchTopic","totalResults","loading","apiError","searchForTopic","topic","post","then","res","console","log","setState","response","error","componentDidMount","render","textAlign","margin","isLoggedIn","length"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { getArticles, getPreArticles } from '../api/api'\nimport ArticleList from './ArticleList'\nimport SearchBar from './SearchBar'\nimport { Container, Header } from 'semantic-ui-react'\nimport * as auth from './auth'\nimport axios from 'axios'\n\nclass News extends React.Component {\n  state = {\n    articles: [],\n    preArticles: [],\n    searchTopic: '',\n    totalResults: '',\n    loading: false,\n    apiError: '',\n  }\n\n  searchForTopic = async (topic) => {\n\n    axios.post('http://localhost:3001/api/newsSearch',{topic}).then(res => console.log(res))\n\n    try {\n      this.setState({ loading: true })\n      const response = await getArticles(topic)\n      this.setState({\n        articles: response.articles,\n        searchTopic: topic,\n        totalResults: response.totalResults,\n      })\n    } catch (error) {\n      this.setState({ apiError: 'Could not find any articles' })\n    }\n    this.setState({ loading: false })\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await getPreArticles()\n      this.setState({ articles: response.articles })\n    } catch (error) {\n      this.setState({ apiError: 'Could not find any articles' })\n    }\n  }\n\n  render() {\n    const {\n      preArticles,\n      articles,\n      apiError,\n      loading,\n      searchTopic,\n      totalResults,\n    } = this.state\n    return (\n      <Container>\n        <Header as=\"h2\" style={{ textAlign: 'center', margin: 20 }}>\n          Search for a news topic\n        </Header>\n        {auth.isLoggedIn() ? (\n          <SearchBar searchForTopic={this.searchForTopic} />\n        ) : null}\n\n        {loading && (\n          <p style={{ textAlign: 'center' }}>Searching for articles...</p>\n        )}\n        {articles.length > 0 && searchTopic.length !== 0 ? (\n          <Header as=\"h4\" style={{ textAlign: 'center', margin: 20 }}>\n            Found {totalResults} articles on \"{searchTopic}\"\n          </Header>\n        ) : (\n          <Header as=\"h4\" style={{ textAlign: 'center', margin: 20 }}>\n            Trending articles right now\n          </Header>\n        )}\n        {articles.length > 0 && <ArticleList articles={articles} />}\n        {apiError && <p>Could not fetch any articles. Please try again.</p>}\n        {preArticles.length > 0 && <ArticleList articles={preArticles} />}\n      </Container>\n    )\n  }\n}\n\nexport default News\n"]},"metadata":{},"sourceType":"module"}