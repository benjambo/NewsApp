{"ast":null,"code":"var _jsxFileName = \"/Users/benjamin/School/NewsApp/frontend/src/pages/weather.js\";\nimport React, { useState } from 'react';\nconst api = {\n  key: 'b8b339cb458fb8bc4985ef3cc4e552a3',\n  base: 'https://api.openweathermap.org/data/2.5/'\n};\nexport const Weather = () => {\n  const [query, setQuery] = useState('');\n  const [weather, setWeather] = useState({});\n  const [apiError, setapiError] = useState('');\n\n  const search = evt => {\n    if (evt.key === 'Enter') {\n      fetch(`${api.base}weather?q=${query}&units=metric&APPID=${api.key}`).then(res => res.json()).then(result => {\n        setWeather(result);\n        setQuery('');\n        console.log(result.message);\n      }).catch(err => {\n        console.log(err.sys);\n        setapiError(err.message);\n      });\n    }\n  }; // Formating date\n\n\n  const dateFormat = () => {\n    let date = new Intl.DateTimeFormat('en-GB', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: '2-digit',\n      hour: 'numeric',\n      minute: 'numeric'\n    }).format();\n    return date;\n  }; // Handle user input in search field\n\n\n  const handleFilterChange = event => {\n    setQuery(event.target.value);\n    console.log(event.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: typeof weather.main != 'undefined' ? weather.main.temp > 16 ? 'weather warm' : 'weather cold' : 'weather',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"search-bar\",\n    placeholder: \"Search...\",\n    onChange: handleFilterChange,\n    value: query,\n    onKeyPress: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  })), typeof weather.main != 'undefined' ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"location-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, weather.name, \", \", weather.sys.country), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, dateFormat())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"weather-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"temp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \" \", Math.round(weather.main.temp), \"\\xB0c\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"weather-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, weather.weather[0].main))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"weather-empty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, \"Search for Weather by City\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, result)))));\n};\nexport default Weather;","map":{"version":3,"sources":["/Users/benjamin/School/NewsApp/frontend/src/pages/weather.js"],"names":["React","useState","api","key","base","Weather","query","setQuery","weather","setWeather","apiError","setapiError","search","evt","fetch","then","res","json","result","console","log","message","catch","err","sys","dateFormat","date","Intl","DateTimeFormat","weekday","year","month","day","hour","minute","format","handleFilterChange","event","target","value","main","temp","name","country","Math","round"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n\nconst api = {\n  key: 'b8b339cb458fb8bc4985ef3cc4e552a3',\n  base: 'https://api.openweathermap.org/data/2.5/',\n}\n\nexport const Weather = () => {\n  const [query, setQuery] = useState('')\n  const [weather, setWeather] = useState({})\n  const [apiError, setapiError] = useState('')\n\n  const search = (evt) => {\n    if (evt.key === 'Enter') {\n      fetch(`${api.base}weather?q=${query}&units=metric&APPID=${api.key}`)\n        .then((res) => res.json())\n        .then((result) => {\n          setWeather(result)\n          setQuery('')\n          console.log(result.message);\n        }).catch((err) => {\n          console.log(err.sys)\n          setapiError(err.message)})\n    }\n  }\n\n  // Formating date\n  const dateFormat = () => {\n    let date = new Intl.DateTimeFormat('en-GB', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: '2-digit',\n      hour: 'numeric',\n      minute: 'numeric',\n    }).format()\n    return date\n  }\n\n  // Handle user input in search field\n  const handleFilterChange = (event) => {\n    setQuery(event.target.value)\n    console.log(event.target.value)\n  }\n\n  return (\n    <div className=\"pages\">\n      <div\n        className={\n          typeof weather.main != 'undefined'\n            ? weather.main.temp > 16\n              ? 'weather warm'\n              : 'weather cold'\n            : 'weather'\n        }\n      >\n        <main>\n          <div className=\"search-box\">\n            <input\n              type=\"text\"\n              className=\"search-bar\"\n              placeholder=\"Search...\"\n              onChange={handleFilterChange}\n              value={query}\n              onKeyPress={search}\n            />\n          </div>\n          {typeof weather.main != 'undefined' ? (\n            <div>\n              <div className=\"location-box\">\n                <div className=\"location\">\n                  {weather.name}, {weather.sys.country}\n                </div>\n                <div className=\"date\">{dateFormat()}</div>\n              </div>\n              <div className=\"weather-box\">\n                <div className=\"temp\"> {Math.round(weather.main.temp)}°c</div>\n                <div className=\"weather-description\">\n                  {weather.weather[0].main}\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"weather-empty\">\n              <p>Search for Weather by City</p>\n              <p>{result}</p>\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  )\n}\n\nexport default Weather\n"]},"metadata":{},"sourceType":"module"}