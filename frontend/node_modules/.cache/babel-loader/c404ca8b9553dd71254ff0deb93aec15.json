{"ast":null,"code":"import _regeneratorRuntime from\"/Users/benjamin/School/NewsApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/benjamin/School/NewsApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/benjamin/School/NewsApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/benjamin/School/NewsApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/benjamin/School/NewsApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/benjamin/School/NewsApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{getArticles,getPreArticles}from'../api/api';import ArticleList from'./ArticleList';import SearchBar from'./SearchBar';import{Container,Header}from'semantic-ui-react';var News=/*#__PURE__*/function(_React$Component){_inherits(News,_React$Component);var _super=_createSuper(News);function News(){var _this;_classCallCheck(this,News);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={articles:[],preArticles:[],searchTopic:'',totalResults:'',loading:false,apiError:''};_this.searchForTopic=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(topic){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_this.setState({loading:true});_context.next=4;return getArticles(topic);case 4:response=_context.sent;_this.setState({articles:response.articles,searchTopic:topic,totalResults:response.totalResults});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);_this.setState({apiError:'Could not find any articles'});case 11:_this.setState({loading:false});case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(News,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return getPreArticles();case 3:response=_context2.sent;this.setState({articles:response.articles});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);this.setState({apiError:'Could not find any articles'});case 10:case\"end\":return _context2.stop();}}},_callee2,this,[[0,7]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,preArticles=_this$state.preArticles,articles=_this$state.articles,apiError=_this$state.apiError,loading=_this$state.loading,searchTopic=_this$state.searchTopic,totalResults=_this$state.totalResults;return/*#__PURE__*/React.createElement(Container,{className:\"pages\"},/*#__PURE__*/React.createElement(Header,{as:\"h2\",style:{textAlign:'center',margin:20}},\"Search for a news topic\"),/*#__PURE__*/React.createElement(SearchBar,{searchForTopic:this.searchForTopic}),/*#__PURE__*/React.createElement(\"p\",{style:{textAlign:'center'}},\"Powered by\",' ',/*#__PURE__*/React.createElement(\"a\",{href:\"https://newsapi.org/\",target:\"_blank\",rel:\"noopener noreferrer\"},\"NewsAPI.org\")),loading&&/*#__PURE__*/React.createElement(\"p\",{style:{textAlign:'center'}},\"Searching for articles...\"),articles.length>0&&/*#__PURE__*/React.createElement(Header,{as:\"h4\",style:{textAlign:'center',margin:20}},\"Found \",totalResults,\" articles on \\\"\",searchTopic,\"\\\"\"),articles.length>0&&/*#__PURE__*/React.createElement(ArticleList,{articles:articles}),apiError&&/*#__PURE__*/React.createElement(\"p\",null,\"Could not fetch any articles. Please try again.\"),preArticles.length>0&&/*#__PURE__*/React.createElement(ArticleList,{articles:preArticles}));}}]);return News;}(React.Component);export default News;/*import React, { useState, useEffect } from 'react'\n//import ArticleList from '../components/ArticleList'\n//import SearchBar from '../components/SearchBar'\nimport { Container, Header, Button, Form, Grid, Image, List } from 'semantic-ui-react'\nimport { NEWS_API_KEY } from '../config'\n\nexport const News = () => {\n  const [articles, setArticles] = useState([])\n  const [apiError, setapiError] = useState('')\n  const [searchNews, setSearchNews] = useState('')\n  const [totalResults, setTotalResults] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    fetch(\n      `https://newsapi.org/v2/everything?domains=techcrunch.com,thenextweb.com&language=en&sortBy=publishedAt&apiKey=${NEWS_API_KEY}`\n    )\n      .then((res) => res.json())\n      .then((res) => setArticles(res.articles))\n      .then((res) => setTotalResults(res.totalResults))\n      .then(() => setLoading(true))\n      .catch((err) => {\n        setapiError(err)\n        console.log(err)\n      })\n  }, [])\n\n  const SearchItem = ({ allNews }) => {\n    const mapNews = () =>\n      allNews\n        .filter((articleName) =>\n          articleName.title.toLowerCase().includes(searchNews.toLowerCase())\n        )\n        .map((article) => (\n          <List.Item style={{ padding: 30 }}>\n            <Grid>\n              <Grid.Column\n                width={11}\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  justifyContent: 'flex-start',\n                }}\n              >\n                <Header as=\"h3\">{article.title}</Header>\n                <List.Description style={{ margin: '20px 0' }}>\n                  {article.description}\n                </List.Description>\n                <List bulleted horizontal>\n                  <List.Item>\n                    <a href={article.url}>{article.source.name}</a>\n                  </List.Item>\n                  <List.Item>{article.publishedAt.split('T')[0]}</List.Item>\n                </List>\n              </Grid.Column>\n              <Grid.Column width={5}>\n                <Image src={article.urlToImage} />\n              </Grid.Column>\n            </Grid>\n          </List.Item>\n        ))\n  return <div>{mapNews()}</div>\n  }\n\n  const searchHandler = (event) => {\n    setSearchNews(event.target.value)\n  }\n\n  return (\n    <div className=\"pages\">\n      <Container>\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\n          <Form>\n            <Form.Group>\n              <Form.Input\n                placeholder=\"Search topic\"\n                name=\"topic\"\n                value={searchNews}\n                onChange={searchHandler}\n                onKeyPress={searchHandler}\n              />\n              <Button type=\"submit\" color=\"green\">\n                Search\n              </Button>\n            </Form.Group>\n          </Form>\n        </div>\n        <Header as=\"h2\" style={{ textAlign: 'center', margin: 20 }}>\n          News articles\n        </Header>\n        {articles.length > 0 && (\n          <Header as=\"h4\" style={{ textAlign: 'center', margin: 20 }}>\n            Found {totalResults} articles on \"{searchNews}\"\n          </Header>\n        )}\n        <SearchItem allNews={articles} />\n      </Container>\n    </div>\n  )\n}\n\nexport default News*/","map":{"version":3,"sources":["/Users/benjamin/School/NewsApp/frontend/src/components/News.js"],"names":["React","getArticles","getPreArticles","ArticleList","SearchBar","Container","Header","News","state","articles","preArticles","searchTopic","totalResults","loading","apiError","searchForTopic","topic","setState","response","textAlign","margin","length","Component"],"mappings":"i6BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,cAAtB,KAA4C,YAA5C,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAASC,SAAT,CAAoBC,MAApB,KAAkC,mBAAlC,C,GAEMC,CAAAA,I,+TACJC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,WAAW,CAAE,EAFP,CAGNC,WAAW,CAAE,EAHP,CAINC,YAAY,CAAE,EAJR,CAKNC,OAAO,CAAE,KALH,CAMNC,QAAQ,CAAE,EANJ,C,OASRC,c,0FAAiB,iBAAOC,KAAP,+IAEb,MAAKC,QAAL,CAAc,CAAEJ,OAAO,CAAE,IAAX,CAAd,EAFa,sBAGUZ,CAAAA,WAAW,CAACe,KAAD,CAHrB,QAGPE,QAHO,eAIb,MAAKD,QAAL,CAAc,CACZR,QAAQ,CAAES,QAAQ,CAACT,QADP,CAEZE,WAAW,CAAEK,KAFD,CAGZJ,YAAY,CAAEM,QAAQ,CAACN,YAHX,CAAd,EAJa,+EAUb,MAAKK,QAAL,CAAc,CAAEH,QAAQ,CAAE,6BAAZ,CAAd,EAVa,QAYf,MAAKG,QAAL,CAAc,CAAEJ,OAAO,CAAE,KAAX,CAAd,EAZe,oE,sZAiBUX,CAAAA,cAAc,E,QAA/BgB,Q,gBACN,KAAKD,QAAL,CAAc,CAAER,QAAQ,CAAES,QAAQ,CAACT,QAArB,CAAd,E,mFAEA,KAAKQ,QAAL,CAAc,CAAEH,QAAQ,CAAE,6BAAZ,CAAd,E,0NAIK,iBAQH,KAAKN,KARF,CAELE,WAFK,aAELA,WAFK,CAGLD,QAHK,aAGLA,QAHK,CAILK,QAJK,aAILA,QAJK,CAKLD,OALK,aAKLA,OALK,CAMLF,WANK,aAMLA,WANK,CAOLC,YAPK,aAOLA,YAPK,CASP,mBACE,oBAAC,SAAD,EAAW,SAAS,CAAC,OAArB,eACE,oBAAC,MAAD,EAAQ,EAAE,CAAC,IAAX,CAAgB,KAAK,CAAE,CAAEO,SAAS,CAAE,QAAb,CAAuBC,MAAM,CAAE,EAA/B,CAAvB,4BADF,cAIE,oBAAC,SAAD,EAAW,cAAc,CAAE,KAAKL,cAAhC,EAJF,cAKE,yBAAG,KAAK,CAAE,CAAEI,SAAS,CAAE,QAAb,CAAV,eACa,GADb,cAEE,yBACE,IAAI,CAAC,sBADP,CAEE,MAAM,CAAC,QAFT,CAGE,GAAG,CAAC,qBAHN,gBAFF,CALF,CAeGN,OAAO,eACN,yBAAG,KAAK,CAAE,CAAEM,SAAS,CAAE,QAAb,CAAV,8BAhBJ,CAkBGV,QAAQ,CAACY,MAAT,CAAkB,CAAlB,eACC,oBAAC,MAAD,EAAQ,EAAE,CAAC,IAAX,CAAgB,KAAK,CAAE,CAAEF,SAAS,CAAE,QAAb,CAAuBC,MAAM,CAAE,EAA/B,CAAvB,WACSR,YADT,mBACqCD,WADrC,MAnBJ,CAuBGF,QAAQ,CAACY,MAAT,CAAkB,CAAlB,eAAuB,oBAAC,WAAD,EAAa,QAAQ,CAAEZ,QAAvB,EAvB1B,CAwBGK,QAAQ,eAAI,+EAxBf,CAyBGJ,WAAW,CAACW,MAAZ,CAAqB,CAArB,eAA0B,oBAAC,WAAD,EAAa,QAAQ,CAAEX,WAAvB,EAzB7B,CADF,CA6BD,C,kBAxEgBV,KAAK,CAACsB,S,EA2EzB,cAAef,CAAAA,IAAf,CAEA","sourcesContent":["import React from 'react'\nimport { getArticles, getPreArticles } from '../api/api'\nimport ArticleList from './ArticleList'\nimport SearchBar from './SearchBar'\nimport { Container, Header } from 'semantic-ui-react'\n\nclass News extends React.Component {\n  state = {\n    articles: [],\n    preArticles: [],\n    searchTopic: '',\n    totalResults: '',\n    loading: false,\n    apiError: '',\n  }\n\n  searchForTopic = async (topic) => {\n    try {\n      this.setState({ loading: true })\n      const response = await getArticles(topic)\n      this.setState({\n        articles: response.articles,\n        searchTopic: topic,\n        totalResults: response.totalResults,\n      })\n    } catch (error) {\n      this.setState({ apiError: 'Could not find any articles' })\n    }\n    this.setState({ loading: false })\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await getPreArticles()\n      this.setState({ articles: response.articles })\n    } catch (error) {\n      this.setState({ apiError: 'Could not find any articles' })\n    }\n  }\n\n  render() {\n    const {\n      preArticles,\n      articles,\n      apiError,\n      loading,\n      searchTopic,\n      totalResults,\n    } = this.state\n    return (\n      <Container className=\"pages\">\n        <Header as=\"h2\" style={{ textAlign: 'center', margin: 20 }}>\n          Search for a news topic\n        </Header>\n        <SearchBar searchForTopic={this.searchForTopic} />\n        <p style={{ textAlign: 'center' }}>\n          Powered by{' '}\n          <a\n            href=\"https://newsapi.org/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            NewsAPI.org\n          </a>\n        </p>\n        {loading && (\n          <p style={{ textAlign: 'center' }}>Searching for articles...</p>\n        )}\n        {articles.length > 0 && (\n          <Header as=\"h4\" style={{ textAlign: 'center', margin: 20 }}>\n            Found {totalResults} articles on \"{searchTopic}\"\n          </Header>\n        )}\n        {articles.length > 0 && <ArticleList articles={articles} />}\n        {apiError && <p>Could not fetch any articles. Please try again.</p>}\n        {preArticles.length > 0 && <ArticleList articles={preArticles} />}\n      </Container>\n    )\n  }\n}\n\nexport default News\n\n/*import React, { useState, useEffect } from 'react'\n//import ArticleList from '../components/ArticleList'\n//import SearchBar from '../components/SearchBar'\nimport { Container, Header, Button, Form, Grid, Image, List } from 'semantic-ui-react'\nimport { NEWS_API_KEY } from '../config'\n\nexport const News = () => {\n  const [articles, setArticles] = useState([])\n  const [apiError, setapiError] = useState('')\n  const [searchNews, setSearchNews] = useState('')\n  const [totalResults, setTotalResults] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    fetch(\n      `https://newsapi.org/v2/everything?domains=techcrunch.com,thenextweb.com&language=en&sortBy=publishedAt&apiKey=${NEWS_API_KEY}`\n    )\n      .then((res) => res.json())\n      .then((res) => setArticles(res.articles))\n      .then((res) => setTotalResults(res.totalResults))\n      .then(() => setLoading(true))\n      .catch((err) => {\n        setapiError(err)\n        console.log(err)\n      })\n  }, [])\n\n  const SearchItem = ({ allNews }) => {\n    const mapNews = () =>\n      allNews\n        .filter((articleName) =>\n          articleName.title.toLowerCase().includes(searchNews.toLowerCase())\n        )\n        .map((article) => (\n          <List.Item style={{ padding: 30 }}>\n            <Grid>\n              <Grid.Column\n                width={11}\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  justifyContent: 'flex-start',\n                }}\n              >\n                <Header as=\"h3\">{article.title}</Header>\n                <List.Description style={{ margin: '20px 0' }}>\n                  {article.description}\n                </List.Description>\n                <List bulleted horizontal>\n                  <List.Item>\n                    <a href={article.url}>{article.source.name}</a>\n                  </List.Item>\n                  <List.Item>{article.publishedAt.split('T')[0]}</List.Item>\n                </List>\n              </Grid.Column>\n              <Grid.Column width={5}>\n                <Image src={article.urlToImage} />\n              </Grid.Column>\n            </Grid>\n          </List.Item>\n        ))\n  return <div>{mapNews()}</div>\n  }\n\n  const searchHandler = (event) => {\n    setSearchNews(event.target.value)\n  }\n\n  return (\n    <div className=\"pages\">\n      <Container>\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\n          <Form>\n            <Form.Group>\n              <Form.Input\n                placeholder=\"Search topic\"\n                name=\"topic\"\n                value={searchNews}\n                onChange={searchHandler}\n                onKeyPress={searchHandler}\n              />\n              <Button type=\"submit\" color=\"green\">\n                Search\n              </Button>\n            </Form.Group>\n          </Form>\n        </div>\n        <Header as=\"h2\" style={{ textAlign: 'center', margin: 20 }}>\n          News articles\n        </Header>\n        {articles.length > 0 && (\n          <Header as=\"h4\" style={{ textAlign: 'center', margin: 20 }}>\n            Found {totalResults} articles on \"{searchNews}\"\n          </Header>\n        )}\n        <SearchItem allNews={articles} />\n      </Container>\n    </div>\n  )\n}\n\nexport default News*/\n"]},"metadata":{},"sourceType":"module"}