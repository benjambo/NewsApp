(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{287:function(e,a,t){e.exports=t.p+"static/media/beach.ef43c5c9.mp4"},312:function(e,a,t){e.exports=t(475)},317:function(e,a,t){},318:function(e,a,t){},338:function(e,a){},340:function(e,a){},352:function(e,a){},354:function(e,a){},382:function(e,a){},384:function(e,a){},385:function(e,a){},391:function(e,a){},393:function(e,a){},411:function(e,a){},413:function(e,a){},425:function(e,a){},428:function(e,a){},475:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(24),c=t.n(l),o=(t(317),t(295)),s=t(14),i=(t(318),t(319),t(284)),m=t.n(i),u=t(46),h=t.n(u),p=t(107),d=t(54),f=t(55),g=t(66),E=t(64),v=function(){var e=Object(p.a)(h.a.mark((function e(){var a,t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://newsapi.org/v2/top-headlines?country=us&apiKey=".concat("1147083ab9a3466d9332ac26b5a5c2d0"));case 2:return a=e.sent,e.next=5,a.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(p.a)(h.a.mark((function e(a){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://newsapi.org/v2/everything?q=".concat(a,"&language=en&sortBy=publishedAt&pageSize=100&apiKey=").concat("1147083ab9a3466d9332ac26b5a5c2d0"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),w=t(496),y=t(500),N=t(501),k=t(297),j=t(70),O=function(e){var a=r.a.useState(!1),t=Object(j.a)(a,2),n=t[0],l=t[1],c=r.a.useRef();return r.a.useEffect((function(){new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&l(e.isIntersecting)}))})).observe(c.current)}),[]),r.a.createElement("div",{className:"fade-in-section ".concat(n?"is-visible":""),ref:c},e.children)},S=function(e){var a=e.article;return r.a.createElement(O,null,r.a.createElement(w.a.Item,{style:{padding:30}},r.a.createElement(y.a,null,r.a.createElement(y.a.Column,{only:"computer",width:11,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start"}},r.a.createElement(N.a,{as:"h3"},a.title),r.a.createElement(w.a.Description,{style:{margin:"20px 0"}},a.description),r.a.createElement(w.a,{bulleted:!0,horizontal:!0},r.a.createElement(w.a.Item,null,r.a.createElement("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},a.source.name)),r.a.createElement(w.a.Item,null,a.publishedAt.split("T")[0]))),r.a.createElement(y.a.Column,{width:5,only:"computer"},r.a.createElement(k.a,{src:a.urlToImage})),r.a.createElement(y.a.Column,{width:16,only:"mobile tablet",style:{display:"flex",flexDirection:"column",justifyContent:"flex-start"}},r.a.createElement(N.a,{as:"h3"},a.title),r.a.createElement(w.a.Description,{style:{margin:"20px 0"}},a.description),r.a.createElement(w.a,{bulleted:!0,horizontal:!0},r.a.createElement(w.a.Item,null,r.a.createElement("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},a.source.name)),r.a.createElement(w.a.Item,null,a.publishedAt.split("T")[0]))))))},C=function(e){return r.a.createElement("div",null,r.a.createElement(w.a,{divided:!0,style:{maxWidth:900,margin:"0 auto"}},e.articles.map((function(e,a){return r.a.createElement(S,{article:e,key:e.title+a})}))),r.a.createElement(O,null,r.a.createElement("p",{style:{textAlign:"center"}},"Powered by"," ",r.a.createElement("a",{href:"https://newsapi.org/",target:"_blank",rel:"noopener noreferrer"},"NewsAPI.org"))))},x=t(493),A=t(497),T=t(69),I=(t(174),new(t(326))),F=function(e){Object(g.a)(t,e);var a=Object(E.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleChange=function(e){n.setState({searchTopic:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),""===n.state.searchTopic?alert("Search field can't be empty"):"shit"===n.state.searchTopic||"fuck"===n.state.searchTopic||"ass"===n.state.searchTopic||"bitch"===n.state.searchTopic?Object(T.confirmAlert)({title:"Confirm to continue",message:"Are you sure you want to search this?",buttons:[{label:"Yes",onClick:function(){return n.props.searchForTopic(n.state.searchTopic)}},{label:"No"}]}):(n.props.searchForTopic(n.state.searchTopic),console.log(I.clean("".concat(n.state.searchTopic))))},n.state={searchTopic:""},n}return Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(x.a,{onSubmit:this.handleSubmit},r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Input,{placeholder:"Search topic",name:"topic",value:this.state.searchTopic,onChange:this.handleChange}),r.a.createElement(A.a,{type:"submit",color:"green"},"Search"))))}}]),t}(r.a.Component),P=t(492);t(286);function D(){return null!=localStorage.getItem("token")}function z(){D()&&localStorage.removeItem("token")}function M(){return localStorage.getItem("token")}var L=t(97),R=t.n(L),_=function(e){Object(g.a)(t,e);var a=Object(E.a)(t);function t(){var e;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={articles:[],preArticles:[],searchTopic:"",totalResults:"",loading:!1,apiError:""},e.searchForTopic=function(){var a=Object(p.a)(h.a.mark((function a(t){var n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=M(),R.a.post("http://localhost:3001/api/newsSearch",{topic:t,token:n}).then((function(e){return console.log(e)})),a.prev=2,e.setState({loading:!0}),a.next=6,b(t);case 6:r=a.sent,e.setState({articles:r.articles,searchTopic:t,totalResults:r.totalResults}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),e.setState({apiError:"Could not find any articles"});case 13:e.setState({loading:!1});case 14:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:a=e.sent,this.setState({articles:a.articles}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({apiError:"Could not find any articles"});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,a=e.preArticles,t=e.articles,n=e.apiError,l=e.loading,c=e.searchTopic,o=e.totalResults;return r.a.createElement(P.a,null,D()?r.a.createElement("div",null,r.a.createElement(N.a,{as:"h2",style:{textAlign:"center",margin:20}},"Search for a news topic"),r.a.createElement(F,{searchForTopic:this.searchForTopic})):null,l&&r.a.createElement("p",{style:{textAlign:"center"}},"Searching for articles..."),t.length>0&&0!==c.length?r.a.createElement(N.a,{as:"h4",style:{textAlign:"center",margin:20}},"Found ",o,' articles on "',c,'"'):r.a.createElement("div",null,D()?null:r.a.createElement("div",null,r.a.createElement(N.a,{as:"h2",style:{textAlign:"center",margin:20}},"Trending articles right now"),r.a.createElement("div",{className:"createAccount"},r.a.createElement("a",{href:"#/signin"},r.a.createElement("small",null,"Sign in to use search")))),D()?r.a.createElement("div",null,r.a.createElement(N.a,{as:"h4",style:{textAlign:"center",margin:20}},"Trending articles right now")):null),t.length>0&&r.a.createElement(C,{articles:t}),n&&r.a.createElement("p",null,"Could not fetch any articles. Please try again."),a.length>0&&r.a.createElement(C,{articles:a}))}}]),t}(r.a.Component),q=t(287),B=t.n(q),W=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("section",{className:"showcase"},r.a.createElement("div",{className:"video-container"},r.a.createElement("video",{autoPlay:"autoplay",muted:!0,loop:"loop",className:"myVideo"},r.a.createElement("source",{className:"myVideo",src:B.a,type:"video/mp4"}))),r.a.createElement("div",{className:"video-content"},r.a.createElement("h1",null,"Welcome to Newsy"),r.a.createElement("p",null,"This is a website created for you to stay updated on what's happening around the world.",r.a.createElement("br",null),"Our goal is to let everyone access news from anywhere, anytime for free."),r.a.createElement(m.a,{className:"btn",style:{textDecoration:"none",color:"black",fontSize:"smaller"},offset:function(){return 110},href:"#news"},"Start Here"))),r.a.createElement("section",{id:"news"},r.a.createElement(_,null),r.a.createElement("br",null)))},Z=t(98),H="b8b339cb458fb8bc4985ef3cc4e552a3",$="https://api.openweathermap.org/data/2.5/",J=function(){var e=Object(n.useState)(""),a=Object(j.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)({}),o=Object(j.a)(c,2),s=o[0],i=o[1],m=Object(n.useState)(""),u=Object(j.a)(m,2),h=u[0],p=u[1],d=function(e){"Enter"===e.key&&fetch("".concat($,"weather?q=").concat(t,"&units=metric&APPID=").concat(H)).then((function(e){return e.json()})).then((function(e){i(e),l(""),p(e.message)})).catch((function(e){console.log(e.message)}))},f=function(e){l(e.target.value),console.log(e.target.value)};return r.a.createElement("div",{className:"pages"},r.a.createElement(Z.Spring,{from:{opacity:0},to:{opacity:1},config:{duration:800}},(function(e){return r.a.createElement("div",{style:e,className:"undefined"!=typeof s.main?s.main.temp>16?"weather warm":"weather cold":"weather"},r.a.createElement("main",null,r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search...",onChange:f,value:t,onKeyPress:d})),"undefined"!=typeof s.main?r.a.createElement("div",null,r.a.createElement("div",{className:"location-box"},r.a.createElement("div",{className:"location"},s.name,", ",s.sys.country),r.a.createElement("div",{className:"date"},new Intl.DateTimeFormat("en-GB",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric"}).format())),r.a.createElement("div",{className:"weather-box"},r.a.createElement("div",{className:"temp"}," ",Math.round(s.main.temp),"\xb0c"),r.a.createElement("div",{className:"weather-description"},s.weather[0].main))):r.a.createElement("div",{className:"weather-empty"},r.a.createElement("p",null,"Search for Weather by City"),r.a.createElement("p",null,h))))})))},K=t(154),G=t(121),V=t(165),U=t(155),Y=t(156);function Q(){var e=Object(U.a)(["\n    .navbar {\n        background-color: rgba(0,0,0,0.9);\n    }\n    .navbar-default, .collapsed {\n        border-color: white;\n        background-color: white;\n      }\n      \n      .navbar-default, .toggle{\n       background-color: white;\n      }\n    .navbar-brand, .navbar-nav .nav-link  {\n        color white;\n        margin: 2vh 2vw 2vh 2vw;\n        &:hover {\n            color: #690505;\n        }\n    }\n    .nav-item {\n      color white;\n      margin: 2vh 2vw 2vh 2vw;\n    }\n    .navbar-light .navbar-brand {\n      color: white;\n    }\n    "]);return Q=function(){return e},e}var X=Y.a.div(Q()),ee=RegExp(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),ae=function(e){Object(g.a)(t,e);var a=Object(E.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleSubmit=function(e){if(e.preventDefault(),function(e){var a=e.formErrors,t=Object(V.a)(e,["formErrors"]),n=!0;return Object.values(a).forEach((function(e){e.length>0&&(n=!1)})),Object.values(t).forEach((function(e){""===e&&(n=!1)})),n}(n.state)){var a={firstName:n.state.firstName,lastName:n.state.lastName,email:n.state.email,password:n.state.password};R.a.post("http://localhost:3001/user/signup",a).then((function(e){201===e.status?window.location="#/signin":window.location="#/signup",console.log(e)})).catch((function(e){console.log(e),Object(T.confirmAlert)({title:"Error",message:"Failed to signup. Please try again",buttons:[{label:"Ok"}]})})),console.log(n.state)}else Object(T.confirmAlert)({title:"Error",message:"Failed to signup. Please try again",buttons:[{label:"Ok"}]})},n.handleChange=function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,l=n.state.formErrors;switch(t){case"firstName":l.firstName=r.length<2?"minimum 2 characters required":"";break;case"lastName":l.lastName=r.length<2?"minimum 2 characters required":"";break;case"email":l.email=ee.test(r)?"":"Invald email address";break;case"password":l.password=r.length<6?"minimum 6 characters required":""}n.setState(Object(K.a)({formErrors:l},t,r))},n.state={firstName:"",lastName:"",email:"",password:"",formErrors:{firstName:"",lastName:"",email:"",password:""}},n.handleSubmit=n.handleSubmit.bind(Object(G.a)(n)),n.handleChange=n.handleChange.bind(Object(G.a)(n)),n}return Object(f.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.firstName,n=a.lastName,l=a.email,c=a.password,o=a.formErrors;return r.a.createElement(X,null,r.a.createElement(Z.Spring,{from:{opacity:0},to:{opacity:1},config:{duration:1250}},(function(a){return r.a.createElement("div",{style:a,className:"wrapper"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("h1",null,"Create Account"),r.a.createElement("form",{action:"/signup",className:"forms",onSubmit:e.handleSubmit},r.a.createElement("div",{className:"firstName"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{className:o.firstName.length>0?"error":null,placeholder:"First Name",type:"text",name:"firstName",value:t,onChange:e.handleChange}),o.firstName.length>0&&r.a.createElement("span",{className:"errorMessage"},o.firstName)),r.a.createElement("div",{className:"lastName"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{className:o.lastName.length>0?"error":null,placeholder:"Last Name",type:"text",name:"lastName",value:n,onChange:e.handleChange}),o.lastName.length>0&&r.a.createElement("span",{className:"errorMessage"},o.lastName)),r.a.createElement("div",{className:"email"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:o.email.length>0?"error":null,placeholder:"Email",type:"email",name:"email",value:l,onChange:e.handleChange}),o.email.length>0&&r.a.createElement("span",{className:"errorMessage"},o.email)),r.a.createElement("div",{className:"password"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:o.password.length>0?"error":null,placeholder:"Password",type:"password",name:"password",value:c,onChange:e.handleChange}),o.password.length>0&&r.a.createElement("span",{className:"errorMessage"},o.password)),r.a.createElement("div",{className:"createAccount"},r.a.createElement("button",{type:"submit"},"Create Account"),r.a.createElement("a",{href:"#/signin"},r.a.createElement("small",null,"Already Have an Account?"))))))})))}}]),t}(n.Component);function te(){var e=Object(U.a)(["\n    .navbar {\n        background-color: rgba(0,0,0,0.9);\n    }\n    .navbar-default, .collapsed {\n        border-color: white;\n        background-color: white;\n      }\n      \n      .navbar-default, .toggle{\n       background-color: white;\n      }\n    .navbar-brand, .navbar-nav .nav-link  {\n        color white;\n        margin: 2vh 2vw 2vh 2vw;\n        &:hover {\n            color: #690505;\n        }\n    }\n    .nav-item {\n      color white;\n      margin: 2vh 2vw 2vh 2vw;\n    }\n    .navbar-light .navbar-brand {\n      color: white;\n      &:hover {\n            color: #690505;\n        }\n    }\n    "]);return te=function(){return e},e}var ne=Y.a.div(te()),re=RegExp(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),le=function(e){Object(g.a)(t,e);var a=Object(E.a)(t);function t(){var e;return Object(d.a)(this,t),(e=a.call(this)).handleSubmit=function(a){if(a.preventDefault(),function(e){var a=e.formErrors,t=Object(V.a)(e,["formErrors"]),n=!0;return Object.values(a).forEach((function(e){e.length>0&&(n=!1)})),Object.values(t).forEach((function(e){""===e&&(n=!1)})),n}(e.state)){var t={email:e.state.email,password:e.state.password};R.a.post("http://localhost:3001/user/signin",t).then((function(e){var a;200===e.status?(window.location="/",a=e.data.token,M()===a&&(localStorage.clear(),localStorage.setItem("token",a)),localStorage.setItem("token",a)):window.location="#/signin",console.log(e)})).catch((function(e){console.log(e),Object(T.confirmAlert)({title:"Error",message:"Failed to signin. Please try again",buttons:[{label:"Ok"}]})}))}else Object(T.confirmAlert)({title:"Error",message:"Failed to login. Please try again",buttons:[{label:"Ok"}]})},e.handleChange=function(a){var t=a.target,n=t.name,r=t.value,l=e.state.formErrors;switch(n){case"email":l.email=re.test(r)?"":"Invald email address";break;case"password":l.password=r.length<6?"minimum 6 characters required":""}e.setState(Object(K.a)({formErrors:l},n,r),(function(){return console.log(e.state)}))},e.state={email:"",password:"",formErrors:{email:"",password:""}},e}return Object(f.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.email,n=a.password,l=a.formErrors;return r.a.createElement(ne,null,r.a.createElement(Z.Spring,{from:{opacity:0},to:{opacity:1},config:{duration:1250}},(function(a){return r.a.createElement("div",{style:a,className:"wrapper"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("h1",null,"Sign In"),r.a.createElement("form",{action:"/",className:"forms",onSubmit:e.handleSubmit},r.a.createElement("div",{className:"email"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:l.email.length>0?"error":null,placeholder:"Email",type:"email",name:"email",value:t,onChange:e.handleChange}),l.email.length>0&&r.a.createElement("span",{className:"errorMessage"},l.email)),r.a.createElement("div",{className:"password"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:l.password.length>0?"error":null,placeholder:"Password",type:"password",name:"password",value:n,onChange:e.handleChange}),l.password.length>0&&r.a.createElement("span",{className:"errorMessage"},l.password)),r.a.createElement("div",{className:"createAccount"},r.a.createElement("button",{type:"submit",href:"/"},"Login"),r.a.createElement("a",{href:"#/signup"},r.a.createElement("small",null,"Don't Have an Account? Register Here!"))))))})))}}]),t}(n.Component),ce=t(495),oe=t(498),se=t(494),ie=function(){var e=Object(n.useState)(!1),a=Object(j.a)(e,2),t=a[0],l=a[1];return r.a.createElement("div",null,r.a.createElement(ce.a,{expand:"lg",fixed:"top",expanded:t},r.a.createElement(ce.a.Brand,{href:"#/"},"Newsy"),r.a.createElement(ce.a.Toggle,{"area-controls":"basic-navbar-nav",onClick:function(){return l(!t&&"expanded")}}),r.a.createElement(ce.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(oe.a,{className:"ml-auto"},r.a.createElement(oe.a.Link,{href:"#/",onClick:function(){return l(!1)}},"Home"),r.a.createElement(oe.a.Link,{href:"#/weather",onClick:function(){return l(!1)}},"Weather"),D()?null:r.a.createElement(oe.a.Link,{href:"#/signin"},"Sign In"),D()?r.a.createElement(oe.a.Link,{href:"/",onClick:z},"Logout"):null,r.a.createElement(se.a,{title:"About Us",id:"basic-nav-dropdown"},r.a.createElement(se.a.Item,{target:"_blank",rel:"noopener noreferrer",href:"https://benjambo.github.io/portfolio/#/",onClick:function(){return l(!1)}},"Benjamin S."),r.a.createElement(se.a.Item,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Jepu32",onClick:function(){return l(!1)}},"Jere S."))))))},me=(t(473),function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ie,null),r.a.createElement("div",null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:W}),r.a.createElement(s.a,{path:"/news",component:_}),r.a.createElement(s.a,{path:"/weather",component:J}),r.a.createElement(s.a,{path:"/signin",component:le}),r.a.createElement(s.a,{path:"/signup",component:ae})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[312,1,2]]]);
//# sourceMappingURL=main.aa72595b.chunk.js.map